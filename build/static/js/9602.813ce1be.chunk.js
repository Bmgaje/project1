"use strict";(self.webpackChunkbluecaller_cms=self.webpackChunkbluecaller_cms||[]).push([[9602],{39602:(e,l,t)=>{t.r(l),t.d(l,{default:()=>N});var s=t(65043),n=t(14282),a=t(38628),d=t(78602),i=t(55211),o=t(61072),c=t(64196),r=t(86213),h=t(17542),u=t(38779),x=t(73216),v=t(35475),j=t(83910),m=t(97929),b=t(41434),p=(t(47915),t(69803),t(2309)),g=t.n(p),f=t(70579);function N(){var e,l;const t=(0,x.Zp)(),p=(0,x.zy)(),[N,y]=(0,s.useState)([]),[S,A]=(0,s.useState)(null),[k,C]=(0,s.useState)((null===p||void 0===p||null===(e=p.state)||void 0===e?void 0:e.activePage)||1),[_,P]=(0,s.useState)((null===p||void 0===p||null===(l=p.state)||void 0===l?void 0:l.limit)||10);let[w,L]=(0,s.useState)(""),[z,I]=(0,s.useState)(!1),[R,$]=(0,s.useState)([]),[B,F]=(0,s.useState)(""),[M,D]=(0,s.useState)(null),[E,H]=(0,s.useState)(""),[T,U]=(0,s.useState)(0);(0,s.useEffect)(()=>{I(!0),r.A.get(h.f.get.getAllProject+`?page=${k}&limit=${_}&is_delete=no&user=${B}`).then(e=>{var l,t,s,n,a,d,i,o;console.log("project list",e);const c=(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.docs)||[];y(c),A(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.totalPages),C(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(d=a.data)||void 0===d?void 0:d.page),H(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.totalDocs)}).finally(()=>I(!1))},[k,_,B]),(0,s.useEffect)(()=>{r.A.get(h.f.get.getAllUsers+`?is_delete=no&q=${w||B}&limit=50`).then(e=>{var l;console.log("user list",e);const t=(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)||[];$([{label:"Show All",value:""},...t.map(e=>({label:e.name,value:e._id}))])})},[w,B]);const q=Math.ceil(S/5),G=5*T+1,V=Math.min(G+5-1,S),W=[];for(let s=G;s<=V;s++)W.push(s);const Z=k*_,J=Z-_+1,K=Math.min(Z,E);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"row pb-3",children:(0,f.jsx)("div",{className:"col-2 offset-10",children:(0,f.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center",children:[(0,f.jsx)("div",{className:"text-dark",children:"Limit :"}),(0,f.jsx)("div",{children:(0,f.jsxs)("select",{className:"btn btn-light p-1",style:{border:"1px solid #10446c"},onChange:e=>{P(e.target.value),C(1)},value:_,children:[(0,f.jsx)("option",{value:"10",children:"10"}),(0,f.jsx)("option",{value:"20",children:"20"}),(0,f.jsx)("option",{value:"50",children:"50"}),(0,f.jsx)("option",{value:"100",children:"100"}),(0,f.jsx)("option",{value:"500",children:"500"})]})})]})})}),(0,f.jsx)(o.A,{className:"mainProject animate__animated animate__fadeInRight",children:(0,f.jsx)(d.A,{children:(0,f.jsxs)(a.A,{style:{borderRadius:15,border:"1px solid #10446c"},children:[(0,f.jsx)(a.A.Header,{style:{borderBottom:"1px dashed #10446c"},children:(0,f.jsxs)(o.A,{children:[(0,f.jsx)("div",{className:"col-8 pt-1",children:(0,f.jsxs)(a.A.Title,{as:"h4",children:[(0,f.jsx)(b.VbF,{style:{color:"#10446c",marginRight:"8px",fontSize:"40px",padding:"5px",backgroundColor:"#f1faee",borderRadius:"50%",border:"2px dashed #10446c"}}),(0,f.jsx)("b",{style:{color:"#10446c"},children:"Project List "})]})}),(0,f.jsxs)("div",{className:"col-3 ",children:[(0,f.jsx)(i.A.Label,{style:{fontWeight:"bold",color:"#10446c"},children:"Search by user"}),(0,f.jsx)(i.A.Group,{className:"mb-3",as:d.A,controlId:"exampleForm.ControlSelect1",children:(0,f.jsx)("div",{children:(0,f.jsx)(u.Ay,{value:M,onChange:e=>{F((null===e||void 0===e?void 0:e.value)||""),D(e),L(""),C(1)},options:R,onInputChange:e=>{B||(L(e),C(1))},placeholder:"Search...",isSearchable:!0})})})]})]})}),(0,f.jsxs)(a.A.Body,{children:[z?(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(g(),{color:"#10446c"}),(0,f.jsx)("h6",{className:"text-danger mt-3",children:"Loading....."})]}):0===(null===N||void 0===N?void 0:N.length)?(0,f.jsx)("div",{className:"text-center pt-3 pb-3",children:(0,f.jsx)("h6",{className:"text-danger",children:"No data available ! \ud83d\ude25"})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.A,{responsive:!0,hover:!0,bordered:!0,children:[(0,f.jsx)("thead",{className:"tableHeader",children:(0,f.jsxs)("tr",{className:"text-center",children:[(0,f.jsx)("th",{children:"Sr No."}),(0,f.jsx)("th",{children:"Project Title"}),(0,f.jsx)("th",{children:"Users"}),(0,f.jsx)("th",{children:"Information"})]})}),null===N||void 0===N?void 0:N.map((e,l)=>{var t;return(0,f.jsx)("tbody",{className:"tableBody",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"text-center",children:l+1}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.project_title}),(0,f.jsx)("td",{children:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name}),(0,f.jsx)("td",{className:"text-center",children:(0,f.jsx)(v.N_,{to:"/projectDetails/"+(null===e||void 0===e?void 0:e._id),state:{url2:"/project",activePage:k,limit:_},children:(0,f.jsx)(n.A,{style:{backgroundColor:"#327cb3",border:"none"},size:"sm",children:(0,f.jsx)(j.g,{icon:m.pS3})})})})]})},l)})]})}),(0,f.jsx)("div",{className:"container ",children:(0,f.jsxs)("div",{className:"row d-flex justify-content-center",children:[(0,f.jsx)("div",{className:"col-6 pt-3 ",children:(0,f.jsx)("div",{style:{borderLeft:"5px solid #10446c",paddingLeft:"5px"},children:(0,f.jsxs)("h5",{style:{color:"#10446c",fontSize:"16px"},children:["Showing ",J," to ",K," of ",E," entries."]})})}),(0,f.jsxs)("div",{className:"col-6 pt-3 text-center ",children:[(0,f.jsx)(n.A,{onClick:()=>{T>0&&U(T-1)},type:"button",className:"btn btn-sm",style:{backgroundColor:"#10446c",border:"none"},disabled:0===T,children:"<"}),W.map(e=>(0,f.jsx)("button",{type:"button",className:k===e?"btn btn-sm btn-primary rounded-circle":"btn btn-sm btn-dark",onClick:()=>{return C(l=e),void t(p.pathname,{replace:!0,state:l});var l},children:e},e)),(0,f.jsx)(n.A,{onClick:()=>{T<q-1&&U(T+1)},type:"button",className:"btn btn-sm ",style:{backgroundColor:"#10446c",border:"none"},disabled:T===q-1,children:">"})]})]})})]})]})})})]})}},69803:()=>{}}]);
//# sourceMappingURL=9602.813ce1be.chunk.js.map