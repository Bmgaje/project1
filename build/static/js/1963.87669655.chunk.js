"use strict";(self.webpackChunkbluecaller_cms=self.webpackChunkbluecaller_cms||[]).push([[1963],{42003:(e,s,t)=>{t.d(s,{A:()=>d});var l=t(65043),i=t(91719),a=t(70579);const d=e=>(0,a.jsx)(l.Fragment,{children:(0,a.jsxs)(i.A,{variant:"warning",children:[e.message,(0,a.jsx)(i.A.Link,{href:e.link,target:"_blank",className:"float-right"})]})})},61963:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var l=t(65043),i=t(61072),a=t(78602),d=t(38628),n=t(55211),c=t(47994),o=t(14282),r=t(64196),x=t(6798),h=t(73216),u=t(35475),j=t(83910),v=t(97929),p=t(86213),m=t(17542),g=t(42003),b=(t(47915),t(36095)),f=t(2309),N=t.n(f),y=t(70579);function A(){var e,s;const t=(0,h.Zp)(),f=(0,h.zy)();let[A,S]=(0,l.useState)([]),[C,k]=(0,l.useState)(!1);const[w,z]=(0,l.useState)(null),[T,_]=(0,l.useState)((null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.page)||1),[B,I]=(0,l.useState)((null===f||void 0===f||null===(s=f.state)||void 0===s?void 0:s.limit)||10),[F,L]=(0,l.useState)(""),[D,R]=(0,l.useState)(null),[H,M]=(0,l.useState)(!1);let[P,V]=(0,l.useState)(!1);const[$,J]=(0,l.useState)(),[q,E]=(0,l.useState)(!1);let[G,U]=(0,l.useState)(""),[W,Z]=(0,l.useState)(0);function K(){k(!0),p.A.get(m.f.get.getBadges+`?page=${T}&limit=${B}&q=${F}&is_delete=no`).then(e=>{var s,t,l,i,a,d,n,c;S(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.docs),z(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.totalPages),U(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(d=a.data)||void 0===d?void 0:d.totalDocs),_(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.page)}).finally(()=>{k(!1)})}(0,l.useEffect)(()=>{K()},[T,B,F]);function O(e){e.preventDefault();const s={status:e.target.value};p.A.put(m.f.put.badgeStatus+$,s).then(()=>{E(!0),setTimeout(()=>{E(!1),K()},2e3)})}const Q=()=>{M(!1)},X=Math.ceil(w/5),Y=5*W+1,ee=Math.min(Y+5-1,w),se=[];for(let l=Y;l<=ee;l++)se.push(l);const te=T*B,le=te-B+1,ie=Math.min(te,G);let[ae,de]=(0,l.useState)(!1),[ne,ce]=(0,l.useState)(!1),[oe,re]=(0,l.useState)(!1),[xe,he]=(0,l.useState)(null),[ue,je]=(0,l.useState)(!1);return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"row position-relative",children:(0,y.jsx)("div",{className:"col-3 offset-9 position-fixed z-3",style:{top:"60px",right:"20px"},children:P?(0,y.jsx)("b",{children:(0,y.jsx)(g.A,{message:"Badge delete successfully."})}):null})}),(0,y.jsx)("div",{className:"row position-relative",children:(0,y.jsx)("div",{className:"col-3 offset-9 position-fixed z-3",style:{top:"60px",right:"20px"},children:ae?(0,y.jsx)("b",{children:(0,y.jsx)(g.A,{message:"Please select a CSV file to import! \ud83d\ude25"})}):null})}),(0,y.jsx)("div",{className:"row position-relative",children:(0,y.jsx)("div",{className:"col-3 offset-9 position-fixed z-3",style:{top:"60px",right:"20px"},children:ne?(0,y.jsx)("b",{children:(0,y.jsx)(g.A,{message:"File imported successfully! \ud83d\ude0d"})}):null})}),(0,y.jsx)("div",{className:"row position-relative",children:(0,y.jsx)("div",{className:"col-3 offset-9 position-fixed z-3",style:{top:"60px",right:"20px"},children:q?(0,y.jsx)("b",{children:(0,y.jsx)(g.A,{message:"Status change successfully \ud83d\ude0d"})}):null})}),(0,y.jsx)("div",{className:"row position-relative",children:(0,y.jsx)("div",{className:"col-4 offset-8 position-fixed z-3",style:{top:"60px",right:"20px"},children:oe?(0,y.jsx)("b",{children:(0,y.jsx)(g.A,{message:"Please check your CSV file repeated data is not allow !"})}):null})}),(0,y.jsx)("div",{className:"row pb-3",children:(0,y.jsx)("div",{className:"col-2 offset-10",children:(0,y.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center",children:[(0,y.jsx)("div",{className:"text-dark",children:"Limit :"}),(0,y.jsx)("div",{children:(0,y.jsxs)("select",{className:"btn btn-light p-1",style:{border:"1px solid #10446c"},onChange:e=>{I(e.target.value),_(1)},value:B,children:[(0,y.jsx)("option",{value:"10",children:"10"}),(0,y.jsx)("option",{value:"20",children:"20"}),(0,y.jsx)("option",{value:"50",children:"50"}),(0,y.jsx)("option",{value:"100",children:"100"}),(0,y.jsx)("option",{value:"500",children:"500"})]})})]})})}),(0,y.jsxs)(i.A,{className:"mainBadge animate__animated animate__fadeInRight",children:[(0,y.jsx)(a.A,{children:(0,y.jsxs)(d.A,{style:{borderRadius:15,border:"1px solid #10446c"},children:[(0,y.jsxs)(d.A.Header,{style:{borderBottom:"1px dashed #10446c"},children:[(0,y.jsxs)(i.A,{children:[(0,y.jsx)("div",{className:"col-7 pt-1",children:(0,y.jsxs)(d.A.Title,{as:"h4",children:[(0,y.jsx)(b.xIF,{style:{color:"#10446c",marginRight:"8px",fontSize:"40px",padding:"5px",backgroundColor:"#f1faee",borderRadius:"50%",border:"2px dashed #10446c"}}),(0,y.jsx)("b",{style:{color:"#10446c"},children:"Badge Table"})]})}),(0,y.jsx)("div",{className:"col-3 d-flex",children:(0,y.jsx)(n.A.Group,{className:"mb-3",as:a.A,controlId:"exampleForm.ControlSelect1",children:(0,y.jsx)(c.A,{children:(0,y.jsx)(n.A.Control,{className:"bg-white py-2 ",size:"sm",style:{border:"1px solid #10446c"},type:"text",onChange:e=>{L(e.target.value),_(1)},placeholder:" Search"})})})}),(0,y.jsx)("div",{className:"col-2 d-flex",children:(0,y.jsx)("div",{children:(0,y.jsx)(u.N_,{to:"/addbadge",children:(0,y.jsxs)(o.A,{style:{backgroundColor:" #10446c",border:"none"},size:"sm",children:["Add ",(0,y.jsx)(j.g,{icon:v.vkJ})]})})})})]}),(0,y.jsxs)(i.A,{children:[(0,y.jsxs)("div",{className:"col-4 pt-2",children:[(0,y.jsx)(n.A.Label,{style:{fontWeight:"bold",color:" #10446c"},children:"Select CSV File"}),(0,y.jsx)("input",{type:"file",accept:".csv",style:{border:"1px solid  #10446c",borderRadius:4},onChange:e=>{he(e.target.files[0])}})]}),(0,y.jsx)("div",{className:"col-2 pt-2",children:(0,y.jsx)("button",{className:"btn  btn-sm btn-danger mt-4",onClick:async()=>{if(!xe)return de(!0),void setTimeout(()=>{de(!1)},2e3);const e=new FormData;e.append("Badge",xe);try{je(!0);(await p.A.post(m.f.post.badgeImport,e,{headers:{"Content-Type":"multipart/form-data"}})).data&&(ce(!0),setTimeout(()=>{ce(!1)},2e3))}catch(s){re(!0),setTimeout(()=>{re(!1)},3e3)}finally{je(!1)}},disabled:ue,children:ue?"Importing...":"Import"})})]})]}),(0,y.jsxs)(d.A.Body,{children:[C?(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(N(),{color:"#10446c"}),(0,y.jsx)("h6",{className:"text-danger mt-3",children:"Loading....."})]}):0===(null===A||void 0===A?void 0:A.length)?(0,y.jsx)("div",{className:"text-center pt-3 pb-3",children:(0,y.jsx)("h6",{className:"text-danger",children:"No data available ! \ud83d\ude25"})}):(0,y.jsxs)(r.A,{responsive:!0,hover:!0,bordered:!0,children:[(0,y.jsx)("thead",{className:"tableHeader",children:(0,y.jsxs)("tr",{className:"text-center",children:[(0,y.jsx)("th",{children:"Sr No."}),(0,y.jsx)("th",{children:"Icon"}),(0,y.jsx)("th",{children:"Badge Type"}),(0,y.jsx)("th",{children:"Title"}),(0,y.jsx)("th",{children:"Description"}),(0,y.jsx)("th",{children:"Status"}),(0,y.jsx)("th",{children:"Action"})]})}),A.map((e,s)=>{var t;return(0,y.jsx)("tbody",{className:"tableBody",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"text-center",children:s+1}),(0,y.jsx)("td",{children:(0,y.jsx)("img",{src:m.JU+(null===e||void 0===e?void 0:e.icon),style:{width:"30px",height:"30px"},alt:""})}),(0,y.jsx)("td",{children:null!==e&&void 0!==e&&e.badgeType?null===e||void 0===e?void 0:e.badgeType:"NA"}),(0,y.jsx)("td",{children:null!==e&&void 0!==e&&e.title?null===e||void 0===e?void 0:e.title:"NA"}),(0,y.jsx)("td",{children:null!==e&&void 0!==e&&e.description?null===e||void 0===e?void 0:e.description:"NA"}),(0,y.jsx)("td",{className:"text-center",children:(0,y.jsxs)("select",{className:"btn btn-light p-1 dropdown-toggle",style:{border:"1px solid #10446c"},onChange:O,onClick:()=>J(e._id),value:null===e||void 0===e?void 0:e.status,children:[(0,y.jsx)("option",{value:"active",children:"Active"}),(0,y.jsx)("option",{value:"draft",children:"In-Active"})]})}),(0,y.jsxs)("td",{className:"text-center",children:[(0,y.jsx)(u.N_,{to:(null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.page)||1,children:(0,y.jsx)(o.A,{variant:"danger",size:"sm",onClick:()=>{M(!0),R(e._id)},children:(0,y.jsx)(j.g,{icon:v.yLS})})}),(0,y.jsx)(u.N_,{to:"/editbadge/"+e._id,state:{page:T,limit:B},className:"text-white",children:(0,y.jsx)(o.A,{variant:"success",size:"sm",children:(0,y.jsx)(j.g,{icon:v.MT7})})})]})]})},s)})]}),(0,y.jsx)("div",{className:"container ",children:(0,y.jsxs)("div",{className:"row d-flex justify-content-center",children:[(0,y.jsx)("div",{className:"col-6 pt-3 ",children:(0,y.jsx)("div",{style:{borderLeft:"5px solid #10446c",paddingLeft:"5px"},children:(0,y.jsxs)("h5",{style:{color:"#10446c",fontSize:"16px"},children:["Showing ",le," to ",ie," of ",G," entries."]})})}),(0,y.jsxs)("div",{className:"col-6 pt-3 text-center ",children:[(0,y.jsx)(o.A,{onClick:()=>{W>0&&Z(W-1)},type:"button",className:"btn btn-sm",style:{backgroundColor:"#10446c",border:"none"},disabled:0===W,children:"<"}),se.map(e=>(0,y.jsx)("button",{type:"button",className:T===e?"btn btn-sm btn-primary rounded-circle":"btn btn-sm btn-dark",onClick:()=>{return _(s=e),void t(f.pathname,{replace:!0,state:s});var s},children:e},e)),(0,y.jsx)(o.A,{onClick:()=>{W<X-1&&Z(W+1)},type:"button",className:"btn btn-sm ",style:{backgroundColor:"#10446c",border:"none"},disabled:W===X-1,children:">"})]})]})})]})]})}),(0,y.jsxs)(x.A,{show:H,onHide:Q,children:[(0,y.jsx)(x.A.Header,{closeButton:!0,children:(0,y.jsx)(x.A.Title,{className:"text-danger",children:"Alert"})}),(0,y.jsx)(x.A.Body,{children:"Are you sure want to delete the badge ?"}),(0,y.jsxs)(x.A.Footer,{children:[(0,y.jsx)(o.A,{variant:"dark",size:"sm",onClick:Q,children:"Cancel"}),(0,y.jsx)(o.A,{variant:"danger",size:"sm",onClick:()=>{Q(),p.A.delete(m.f.delete.deleteBadge+D).then(()=>{V(!0),setTimeout(()=>{V(!1),K()},2e3)})},children:"Delete"})]})]})]})]})}}}]);
//# sourceMappingURL=1963.87669655.chunk.js.map