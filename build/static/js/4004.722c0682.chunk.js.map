{"version":3,"file":"static/js/4004.722c0682.chunk.js","mappings":"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","sources":["helpers/errorHandler.js","components/test/Test.js"],"sourcesContent":["import { toast } from 'react-toastify';\n\nconst errorHandler = (error, url = '/signin') => {\n  if (!error) return null;\n\n  const errorMessage = error?.response?.data?.message || error?.message || 'Something went wrong!';\n\n  // Handle Unauthorized (401) errors with redirection\n  if (error?.response?.status === 401) {\n    toast.error(errorMessage, { toastId: 'auth-error' });\n    setTimeout(() => {\n      window.location.href = url;\n    }, 3000);\n  } else {\n    toast.error(errorMessage, { toastId: 'error' });\n  }\n  // console.error('API Error:', errorMessage); // Log for debugging\n};\n\nexport default errorHandler;\n","import React, { useEffect, useState } from 'react';\nimport { ClientJS } from 'clientjs';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport errorHandler from '../../helpers/errorHandler';\nimport instance from '../../helpers/axiosInstance';\n\nfunction Test() {\n  const [sessions, setSessions] = useState([]);\n  const [fingerprint, setFingerprint] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const client = new ClientJS();\n    setFingerprint(client.getFingerprint());\n  }, []);\n\n  useEffect(() => {\n    getSessions();\n  }, []);\n\n  const getSessions = async () => {\n    try {\n      setLoading(true);\n      const res = await instance.get('api/user/sessions');\n      if (res.data) {\n        setSessions(res.data?.sessions || []);\n      }\n    } catch (error) {\n      errorHandler(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const logoutUser = async (id) => {\n    try {\n      const res = await instance.delete(`api/user/session/${id}`);\n      if (res.data.message) {\n        getSessions();\n      }\n    } catch (error) {\n      toast.error(error?.response?.data?.message || error?.message);\n    }\n  };\n\n  if (loading)\n    return (\n      <h4 className=\"d-flex align-items-center justify-content-center\" style={{ minHeight: '40vh' }}>\n        Loading ....\n      </h4>\n    );\n\n  return (\n    <div>\n      {sessions?.length ? (\n        sessions?.map((item) => (\n          <div\n            key={item?.deviceId}\n            className=\"d-flex text-dark border border-dark/50 p-2 rounded justify-content-between align-items-center mb-3\"\n          >\n            <div>\n              {parseInt(item?.deviceId) === parseInt(fingerprint) && <p className=\"badge bg-success\">Current</p>}\n              <p>\n                Google {item?.session?.browser} {item?.deviceId} &#40;{item?.session?.os}&#41; &nbsp;\n              </p>\n              <p>Last Active: {format(new Date(item?.createdAt), 'dd MMMM yyyy, h.mm a')}</p>\n            </div>\n            <button onClick={() => logoutUser(item?.deviceId)} className=\"btn btn-danger btn-sm\" type=\"button\">\n              Logout\n            </button>\n          </div>\n        ))\n      ) : (\n        <p>No active sessions</p>\n      )}\n    </div>\n  );\n}\n\nexport default Test;\n"],"names":["error","_error$response","_error$response$data","_error$response2","url","arguments","length","undefined","errorMessage","response","data","message","status","toast","toastId","setTimeout","window","location","href","sessions","setSessions","useState","fingerprint","setFingerprint","loading","setLoading","useEffect","client","ClientJS","getFingerprint","getSessions","async","res","instance","get","_res$data","errorHandler","_jsx","className","style","minHeight","children","map","item","_item$session","_item$session2","_jsxs","parseInt","deviceId","session","browser","os","format","Date","createdAt","onClick","delete","id","logoutUser","type"],"sourceRoot":""}